# Домашнее задание 2 по курсу Машинное обучение в продакшене

Пример использования. Запуск докера производится из директории с проектом.  

Существует 2 пути для создания docker image:
- Собрать docker image на локальной машине можно командой
    ~~~
    docker build -t sanyacenter/ml_prod_server -f online_inference/Dockerfile .
    ~~~

- Загрузить docker image из https://hub.docker.com/ можно командой
    ~~~
    docker pull sanyacenter/ml_prod_server
    ~~~

Запустить контейнер можно командой
~~~
docker run --rm -p 8000:8000 sanyacenter/ml_prod_server
~~~

В новом окне терминала из директории online_inference запускается скрипт, отправляющий запросы
~~~
python make_request.py 
~~~

**Основная часть**

- Оберните inference вашей модели в rest сервис на FastAPI, должен быть endpoint /predict (3 балла)
- Напишите endpoint /health (1 балл), должен возращать 200, если ваша модель готова к работе (такой чек особенно актуален если делаете доп задание про скачивание из хранилища) 
- Напишите unit тест для /predict  (3 балла) (https://fastapi.tiangolo.com/tutorial/testing/, https://flask.palletsprojects.com/en/1.1.x/testing/)

- Напишите скрипт, который будет делать запросы к вашему сервису -- 2 балла

- Напишите dockerfile, соберите на его основе образ и запустите локально контейнер (docker build, docker run), внутри контейнера должен запускать сервис, написанный в предущем пункте, закоммитьте его, напишите в readme корректную команду сборки (4 балл)

- Опубликуйте образ в https://hub.docker.com/, используя docker push (вам потребуется зарегистрироваться) (+2 балла)

- Напишите в readme корректные команды docker pull/run, которые должны привести к тому, что локально поднимется на inference ваша модель (1 балл)
   Убедитесь, что вы можете протыкать его скриптом из пункта 3

- Проведите самооценку (распишите в реквесте какие пункты выполнили и на сколько баллов, укажите сумму баллов) -- 1 балл

Всего 17 баллов)